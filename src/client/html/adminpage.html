<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base target="_top">
  <title>GWA ecommerce - Admin Area</title>
  <!--Alpine JS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.2.4/cdn.js" defer></script>
  <!-- CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
  <div id="global-wrapper" x-data="appXData()">
    <div class="container">
      <h3 class="text-center my-3">Configuración</h3>
      <form>
        <div class="accordion" id="settings-accordion">
          <!-- MY BUSINESS -->
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#my-business" aria-expanded="false" aria-controls="my-business"><i class="bi bi-shop me-2"></i>Mi negocio</button>
            </h2>
            <div id="my-business" class="accordion-collapse collapse" data-bs-parent="#settings-accordion">
              <div class="accordion-body">
                <div class="row">
                  <div class="col-12 col-sm-6">
                    <div class="mb-3">
                      <label for="business-name" class="form-label">Nombre</label>
                      <input type="text" class="form-control" id="business-name">
                      <div id="name-help" class="form-text">El nombre de su negocio se incluirá en la orden que se envía por WhatsApp</div>
                    </div>
                  </div>
                  <div class="col-12 col-sm-6">
                    <div class="mb-3">
                      <label for="business-whatsapp" class="form-label">Número de WhatsApp</label>
                      <input type="text" class="form-control" id="business-whatsapp">
                      <div id="whatsapp-help" class="form-text">Escriba el número sin espacios ni el signo +</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- DELIVERY -->
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#delivery" aria-expanded="false" aria-controls="delivery"><i class="bi bi-truck me-2"></i>Entrega/Despacho</button>
            </h2>
            <div id="delivery" class="accordion-collapse collapse" data-bs-parent="#settings-accordion">
              <div class="accordion-body">
                <div class="row p-2 border rounded mb-2 bg-light">
                  <div class="col-12 col-md-4">
                    <div class="form-check">
                      <label for="pickup" class="form-check-label">Recoger en sitio</label>
                      <input type="checkbox" name="pickup" id="pickup" class="form-check-input" @change="pickupIsChecked = $event.target.checked">
                    </div>
                  </div>
                  <div class="col-12 col-md-8">
                    <input type="text" name="pickup-details" id="pickup-details" class="form-control" placeholder="Observaciones" x-show="pickupIsChecked" x-transition>
                  </div>
                </div>
                <div class="row p-2 border rounded mb-2 bg-light">
                  <div class="col-12 col-md-4">
                    <div class="form-check">
                      <label for="delivery" class="form-check-label">Entrega a domicilio</label>
                      <input type="checkbox" name="delivery" id="delivery" class="form-check-input" @change="deliveryIsChecked = $event.target.checked">
                    </div>
                  </div>
                  <div class="col-12 col-md-4 mb-1">
                    <input type="text" name="delivery-price" id="delivery-price" class="form-control" placeholder="Costo" x-show="deliveryIsChecked" x-transition>
                  </div>
                  <div class="col-12 col-md-4">
                    <input type="text" name="delivery-details" id="delivery-details" class="form-control" placeholder="Observaciones" x-show="deliveryIsChecked" x-transition>
                  </div>
                </div>
                <div class="row p-2 border rounded bg-light">
                  <div class="col-12 col-md-4">
                    <div class="form-check">
                      <label for="delivery-other" class="form-check-label">Otro</label>
                      <input type="checkbox" name="delivery-other" id="delivery-other" class="form-check-input" @change="deliveryOtherIsChecked = $event.target.checked">
                    </div>
                  </div>
                  <div class="col-12 col-md-4 mb-1">
                    <input type="text" name="delivery-other-price" id="delivery-other-price" class="form-control" placeholder="Costo" x-show="deliveryOtherIsChecked" x-transition>
                  </div>
                  <div class="col-12 col-md-4">
                    <input type="text" name="delivery-other-details" id="delivery-other-details" class="form-control" placeholder="Observaciones" x-show="deliveryOtherIsChecked" x-transition>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- PAYMENT METHODS -->
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#payment-methods" aria-expanded="false" aria-controls="payment-methods"><i class="bi bi-credit-card me-2"></i>Medios de pago</button>
            </h2>
            <div id="payment-methods" class="accordion-collapse collapse" data-bs-parent="#settings-accordion">
              <div class="accordion-body">
                <div id="payment-methods-list">
                  <template x-for="(paymentMethod, index) in paymentMethods">
                    <div class="row bg-light pt-3 pb-2 mb-2 rounded border">
                      <div class="col-2 col-md-1 pt-2 d-flex justify-content-end">
                        <a @click.prevent="removePaymentMethod(paymentMethod)" class="link-danger"><i class="bi bi-x-circle"></i></a>
                      </div>
                      <div class="col-10 col-md-4 mb-2">
                        <input type="text" :name="`paymentMethodName${index}`" :id="`paymentMethodName${index}`" class="form-control" x-model="paymentMethod.name" placeholder="Medio de pago">
                      </div>
                      <div class="col-12 col-md-7 mb-2">
                        <textarea name="`paymentMethodDetails${index}`" id="`paymentMethodDetails${index}`" rows="1" x-model="paymentMethod.details" class="form-control" placeholder="Información"></textarea>
                      </div>
                    </div>
                  </template>
                </div>
                <div class="row">
                  <div class="col-12 d-flex justify-content-center">
                    <button type="button" class="btn btn-primary" @click="addPaymentMethodInputs()"><i class="bi bi-plus me-2"></i>Nuevo medio de pago</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- PARAMETERS -->
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#parameters" aria-expanded="false" aria-controls="parameters"><i class="bi bi-gear me-2"></i>Parámetros</button>
            </h2>
            <div id="parameters" class="accordion-collapse collapse" data-bs-parent="#settings-accordion">
              <div class="accordion-body">
                <div class="row">
                  <div class="col-sm-6 d-none d-sm-block">
                    <p class="mt-2">Moneda</p>
                  </div>
                  <div class="col-12 col-sm-6">
                    <div class="mb-3">
                      <label for="currency" class="form-label d-block d-sm-none">Moneda</label>
                      <input type="text" class="form-control" id="currency" value="$">
                      <div id="currency-help" class="form-text">Signo que se usará para presentar los precios</div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6 d-none d-sm-block">
                    <p class="mt-2">Separador decimal</p>
                  </div>
                  <div class="col-12 col-sm-6">
                    <div class="mb-3">
                      <label for="decimal-separator" class="form-label d-block d-sm-none">Separador decimal</label>
                      <select class="form-control" id="decimal-separator">
                        <option value=",">Coma ","</option>
                        <option value=".">Punto "."</option>
                      </select>
                      <div id="decimal-separator-help" class="form-text">Signo que se usará para separar los números decimales</div>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-sm-6 d-none d-sm-block">
                    <p class="mt-2">Centavos</p>
                  </div>
                  <div class="col-12 col-sm-6">
                    <div class="mb-3">
                      <label for="cents" class="form-label d-block d-sm-none">Centavos</label>
                      <select class="form-control" id="decimal-separator">
                        <option value="true">Usar</option>
                        <option value="false">No usar</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- GWA ECOMMERCE CONFIGURATION -->
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#gwa-ecommerce" aria-expanded="false" aria-controls="gwa-ecommerce"><i class="bi bi-hdd-network me-2"></i>Configuración de GWA eCommerce</button>
            </h2>
            <div id="gwa-ecommerce" class="accordion-collapse collapse" data-bs-parent="#settings-accordion">
              <div class="accordion-body">
                <div class="row">
                  <div class="col-sm-6 d-none d-sm-block">
                    <p class="mt-2">Hosting de imágenes</p>
                  </div>
                  <div class="col-12 col-sm-6">
                    <div class="mb-3">
                      <label for="cents" class="form-label d-block d-sm-none">Hosting de imágenes</label>
                      <select class="form-control" id="image-hosting">
                        <option value="imagekit">imagekit.io</option>
                        <option value="generic">Otro</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- CONTRIBUTE -->
          <div class="accordion-item">
            <h2 class="accordion-header">
              <button type="button" class="accordion-button collapsed" data-bs-toggle="collapse" data-bs-target="#contribution" aria-expanded="false" aria-controls="contribution"><i class="bi bi-hand-thumbs-up me-2"></i>Contribuye con el proyecto</button>
            </h2>
            <div id="contribution" class="accordion-collapse collapse" data-bs-parent="#settings-accordion">
              <div class="accordion-body">

              </div>
            </div>
          </div>
        </div>
        <div class="row mt-3">
          <div class="col-12">
            <button type="submit" class="btn btn-primary">Guardar los cambios</button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="ieconsuegra" data-description="Support me on Buy me a coffee!" data-message="You can contribute maintaining this project alive!" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
  <script>
    function appXData() {
      return {
        pickupIsChecked: false,
        deliveryIsChecked: false,
        deliveryOtherIsChecked: false,
        paymentMethods: [],
        addPaymentMethodInputs() {
          this.paymentMethods.push(
            {
              name: '',
              details: '',
            }
          );
        },
        removePaymentMethod(paymentMethod) {
          const filteredPaymentMethods = this.paymentMethods.filter((item) => {
            if (item.name !== paymentMethod.name) {return item}
          });
          this.paymentMethods = filteredPaymentMethods;
        },
      }
    }
  </script>
</body>
</html>